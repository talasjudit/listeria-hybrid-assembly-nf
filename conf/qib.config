/*
========================================================================================
    QIB/NBI HPC Configuration
========================================================================================
    Configuration specific to the Quadram Institute / Norwich BioScience Institutes HPC

    Partitions:
    - qib-short  : Up to 2 hours
    - qib-medium : Up to 2 days (48 hours)
    - qib-long   : Over 2 days

    Usage:
      nextflow run main.nf -profile test,qib
      nextflow run main.nf -profile qib --input samplesheet.csv
========================================================================================
*/

process {
    /*
     * QIB Partition Selection
     * Automatically selects partition based on time requirements
     */
    queue = { 
        task.time <= 2.h  ? 'qib-short' : 
        task.time <= 48.h ? 'qib-medium' : 
                            'qib-long' 
    }

    /*
     * QIB-Specific SLURM Options
     * Add account or other QIB-specific options here if needed
     */
    // clusterOptions = '--account=YOUR_PROJECT'
}

/*
========================================================================================
    NOTES
========================================================================================
    - Run installation workflow on login node first (for container downloads)
    - Use -resume to restart failed runs efficiently
    - Check queue with: squeue -u $USER
========================================================================================
*/
